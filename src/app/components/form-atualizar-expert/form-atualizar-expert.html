@if (visible) {
<div class="modal-overlay">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <button class="close-button" (click)="fecharModal()">&times;</button>

    <section class="cadastro-container">
      <h2>Atualizar Funcionário</h2>

      <form [formGroup]="updateExpertFormGroup" (ngSubmit)="onSubmit()">
        <div class="form-field">
          <label for="input-name">Nome</label>
          <input
            id="input-name"
            type="text"
            class="text-input"
            #input
            maxlength="13"
            placeholder="Ex. Mateus"
            [formControl]="nome"
            required
            (input)="onInput($event)"
          />
          @if (nome.invalid && (nome.touched || nome.dirty)) {
          <div class="error-message">{{ errorMessageNome() }}</div>
          }
        </div>

        <div class="form-field">
          <label for="input-email">Email</label>
          <input
            id="input-email"
            type="email"
            class="text-input"
            placeholder="email@example.com"
            [formControl]="email"
            (blur)="updateErrorMessageEmail()"
            required
          />
          @if (email.invalid && (email.touched || email.dirty)) {
          <div class="error-message">{{ errorMessageEmail() }}</div>
          }
        </div>

        <div class="form-field">
          <label for="input-phone">Telefone</label>
          <input
            type="text"
            id="input-phone"
            class="text-input"
            [formControl]="phone"
            [mask]="'(00) 00000-0000'"
            placeholder="(00) 00000-0000"
          />
          @if (phone.invalid && (phone.touched || phone.dirty)) {
          <div class="error-message">Telefone inválido</div>
          }
        </div>

        <button
          type="submit"
          [disabled]="
            updateExpertFormGroup.invalid || isLoading() || updateExpertFormGroup.pristine
          "
          class="btn-cadastrar"
        >
          @if (isLoading()) {
          <div class="spinner"></div>
          } @else { Atualizar }
        </button>
      </form>
    </section>
  </div>
</div>
} @if (showUpdateError()) {
<app-erro-modal-update-account
  [message]="errorMessageUpdate()"
  (closed)="showUpdateError.set(false)"
/>
}
